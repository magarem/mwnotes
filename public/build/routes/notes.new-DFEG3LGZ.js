import{a as U}from"/build/_shared/chunk-EXA2H3AC.js";import{a as q}from"/build/_shared/chunk-FPOB764B.js";import{a as h}from"/build/_shared/chunk-IWL4GH55.js";import"/build/_shared/chunk-RT6S2EOS.js";import{e as m,g as I,h as A,p as N}from"/build/_shared/chunk-2SGSTKRC.js";import{a as v,b as w}from"/build/_shared/chunk-LMXH6R3J.js";import{c as s}from"/build/_shared/chunk-Q3IECNXJ.js";var i=s(v());A();var E=s(U()),O=s(q()),a=s(v());var t=s(w());var R=h("https://lpbqbqcmlspixeiikhcb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxwYnFicWNtbHNwaXhlaWlraGNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODA2NDU1ODksImV4cCI6MTk5NjIyMTU4OX0.EIGOPYgY4iebJJ1jpJNCoioJZSE9XU83ZPWUhCsgUSk");function C(){var u,c,p,b,g,x;let e=N(),n=i.useRef(null),d=i.useRef(null),f=i.useRef(null),[k,J]=(0,a.useState)([]),[M,S]=(0,a.useState)([]),[X,L]=(0,a.useState)([]),T=I();i.useEffect(()=>{var r,o,l,y;(r=e==null?void 0:e.errors)!=null&&r.title?(o=n.current)==null||o.focus():(l=e==null?void 0:e.errors)!=null&&l.body&&((y=d.current)==null||y.focus())},[e]);let Y=async r=>{r.preventDefault();let o=new FormData;o.set("title",n.current.value),o.set("body",d.current.value),o.set("image",f.current.value),T(o,{method:"post"})},Z=r=>{J(r.target.files[0])},F=async()=>{let{data:r,error:o}=await R.storage.from("files").list("",{limit:100,offset:0,sortBy:{column:"name",order:"asc"}});console.log(r),S(r)},j=async r=>{if(console.log(r),confirm("Confirma exclus\xE3o do arquivo:"+r)){let{data:o,error:l}=await R.storage.from("files").remove([r]);console.log(o,l),l?alert(l):F()}};return(0,t.jsx)("div",{children:(0,t.jsxs)(m,{name:"form1",method:"post",style:{display:"flex",flexDirection:"column",gap:8,width:"100%"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1  text-gray-50",children:[(0,t.jsx)("span",{children:"Titulo: "}),(0,t.jsx)("input",{ref:n,id:"title",name:"title",className:"w-full flex-1 rounded-md border-0 text-gray-50 bg-slate-700 border-slate-800 px-2 py-2 !outline-none text-lg leading-6","aria-invalid":(u=e==null?void 0:e.errors)!=null&&u.title?!0:void 0,"aria-errormessage":(c=e==null?void 0:e.errors)!=null&&c.title?"title-error":void 0})]}),((p=e==null?void 0:e.errors)==null?void 0:p.title)&&(0,t.jsx)("div",{className:"pt-1 text-red-700",id:"title-error",children:e.errors.title})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1  text-gray-50",children:[(0,t.jsx)("span",{children:"Texto: "}),(0,t.jsx)("textarea",{ref:d,name:"body",rows:8,className:"w-full flex-1 rounded-md border-0 text-gray-50 bg-slate-700 border-slate-800 px-2 py-2 !outline-none text-lg leading-6","aria-invalid":(b=e==null?void 0:e.errors)!=null&&b.body?!0:void 0,"aria-errormessage":(g=e==null?void 0:e.errors)!=null&&g.body?"body-error":void 0})]}),((x=e==null?void 0:e.errors)==null?void 0:x.body)&&(0,t.jsx)("div",{className:"pt-1 text-red-700",id:"body-error",children:e.errors.body})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1  text-gray-50",children:[(0,t.jsx)("span",{children:"Imagem: "}),(0,t.jsx)("input",{ref:f,name:"image",className:"w-full flex-1 rounded-md border-0 text-gray-50 bg-slate-700 border-slate-800 px-2 py-2 !outline-none text-lg leading-6"})]})}),(0,t.jsx)("div",{className:"text-left mt-3",children:(0,t.jsx)("button",{type:"submit",className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 focus:bg-blue-400",children:"Salvar"})})]})})}export{C as default};
