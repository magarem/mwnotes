{
  "version": 3,
  "sources": ["../../../app/routes/notes.$noteId.tsx"],
  "sourcesContent": ["import type { ActionArgs, LoaderArgs } from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\n\nimport { Link } from \"@remix-run/react\"\nimport {\n  Form,\n  isRouteErrorResponse,\n  useLoaderData,\n  useRouteError,\n} from \"@remix-run/react\";\nimport invariant from \"tiny-invariant\";\n\nimport { deleteNote, getNote } from \"~/models/note.server\";\nimport { requireUserId } from \"~/session.server\";\nimport { useNavigate } from \"@remix-run/react\"\n\nexport async function loader({ request, params }: LoaderArgs) {\n  \n  const env = {\n    SUPABASE_URL_RAW: process.env.SUPABASE_URL_RAW!,\n    SUPABASE_ANON_KEY: process.env.SUPABASE_ANON_KEY!,\n  }\n  \n  const userId = await requireUserId(request);\n  invariant(params.noteId, \"noteId not found\");\n\n  const note = await getNote({ userId, id: params.noteId });\n  if (!note) {\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n  note.userid = userId\n  console.log(note);\n  \n  return json({ userId, note, env });\n}\n\nexport async function action({ request, params }: ActionArgs) {\n  const userId = await requireUserId(request);\n  invariant(params.noteId, \"noteId not found\");\n\n  await deleteNote({ userId, id: params.noteId });\n\n  return redirect(\"/notes\");\n}\n\nexport default function NoteDetailsPage() {\n  const data = useLoaderData<typeof loader>();\n  const CDNURL = \"\"//  data.env.SUPABASE_URL_RAW + \"storage/v1/object/public/files/\" + data.userId + '/' //\"https://lpbqbqcmlspixeiikhcb.supabase.co/storage/v1/object/public/files\";\n  let navigate = useNavigate()\n\n\n  return (\n    <div className=\"bg-dark text-slate-50\">\n      <h3 className=\"text-2xl font-bold\">{data.note.title}</h3>\n      <div dangerouslySetInnerHTML={{__html: data.note.body.replace(/\\n/g, '<br />')}} />\n      <p className=\"py-6\">{data.note.img&&<img src={`${data.note.img}`} alt=\"dd\" style={{width: '100px'}}/>}</p>\n      {/* <hr className=\"my-4\" /> */}\n      <Form method=\"post\">\n        <button type=\"button\" onClick={() => navigate(\"/notes/edit/\" + data.note.id)}\n        className=\"rounded bg-blue-500 px-4 py-1 text-white hover:bg-blue-600 focus:bg-blue-400\"\n        >Edit</button>{\" \"}\n        <button\n          type=\"submit\"\n          className=\"rounded bg-red-500  px-4 py-1 text-white hover:bg-red-800 focus:bg-blue-400\"\n        >\n          Delete\n        </button>\n      </Form>\n    </div>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (error instanceof Error) {\n    return <div>An unexpected error occurred: {error.message}</div>;\n  }\n\n  if (!isRouteErrorResponse(error)) {\n    return <h1>Unknown Error</h1>;\n  }\n\n  if (error.status === 404) {\n    return <div>Note not found</div>;\n  }\n\n  return <div>An unexpected error occurred: {error.statusText}</div>;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAYA,kBAAoC;AACpC,qBAA8B;AAwCxB;AARS,SAAR,kBAAmC;AACxC,QAAM,OAAO,cAA6B;AAC1C,QAAM,SAAS;AACf,MAAI,WAAW,YAAY;AAG3B,SACE,mDAAC,SAAI,WAAU,yBACb;AAAA,uDAAC,QAAG,WAAU,sBAAsB,eAAK,KAAK,SAA9C;AAAA;AAAA;AAAA;AAAA,WAAoD;AAAA,IACpD,mDAAC,SAAI,yBAAyB,EAAC,QAAQ,KAAK,KAAK,KAAK,QAAQ,OAAO,QAAQ,EAAC,KAA9E;AAAA;AAAA;AAAA;AAAA,WAAiF;AAAA,IACjF,mDAAC,OAAE,WAAU,QAAQ,eAAK,KAAK,OAAK,mDAAC,SAAI,KAAK,GAAG,KAAK,KAAK,OAAO,KAAI,MAAK,OAAO,EAAC,OAAO,QAAO,KAA7D;AAAA;AAAA;AAAA;AAAA,WAA+D,KAAnG;AAAA;AAAA;AAAA;AAAA,WAAsG;AAAA,IAEtG,mDAAC,QAAK,QAAO,QACX;AAAA;AAAA,QAAC;AAAA;AAAA,UAAO,MAAK;AAAA,UAAS,SAAS,MAAM,SAAS,iBAAiB,KAAK,KAAK,EAAE;AAAA,UAC3E,WAAU;AAAA,UACT;AAAA;AAAA,QAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAEK;AAAA,MAAU;AAAA,MACf;AAAA,QAAC;AAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACX;AAAA;AAAA,QAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA;AAAA,SATF;AAAA;AAAA;AAAA;AAAA,WAUA;AAAA,OAfF;AAAA;AAAA;AAAA;AAAA,SAgBA;AAEJ;AAEO,SAAS,gBAAgB;AAC9B,QAAM,QAAQ,cAAc;AAE5B,MAAI,iBAAiB,OAAO;AAC1B,WAAO,mDAAC,SAAI;AAAA;AAAA,MAA+B,MAAM;AAAA,SAA1C;AAAA;AAAA;AAAA;AAAA,WAAkD;AAAA,EAC3D;AAEA,MAAI,CAAC,qBAAqB,KAAK,GAAG;AAChC,WAAO,mDAAC,QAAG,6BAAJ;AAAA;AAAA;AAAA;AAAA,WAAiB;AAAA,EAC1B;AAEA,MAAI,MAAM,WAAW,KAAK;AACxB,WAAO,mDAAC,SAAI,8BAAL;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAA,EAC5B;AAEA,SAAO,mDAAC,SAAI;AAAA;AAAA,IAA+B,MAAM;AAAA,OAA1C;AAAA;AAAA;AAAA;AAAA,SAAqD;AAC9D;",
  "names": []
}
