import{a as V}from"/build/_shared/chunk-KZNWDO46.js";import{a as H}from"/build/_shared/chunk-DYV54FQG.js";import{a as E}from"/build/_shared/chunk-HITQAIKO.js";import{a as S}from"/build/_shared/chunk-LUNZM2Y3.js";import"/build/_shared/chunk-RC6NYAFI.js";import{e as c,g as R,h as U,o as T,p as A}from"/build/_shared/chunk-N25U7VOR.js";import{a as I,b as J}from"/build/_shared/chunk-PQZYEQJJ.js";import{d as s}from"/build/_shared/chunk-T36URGAI.js";var o=s(I());U();var F=s(V()),X=s(H()),g=s(I());var t=s(J()),Y=S("https://lpbqbqcmlspixeiikhcb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxwYnFicWNtbHNwaXhlaWlraGNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODA2NDU1ODksImV4cCI6MTk5NjIyMTU4OX0.EIGOPYgY4iebJJ1jpJNCoioJZSE9XU83ZPWUhCsgUSk");function L(){var x,y,h,N,v,w;let a=T(),e=A(),b=o.useRef(null),u=o.useRef(null),p=o.useRef(null),f=o.useRef(null),k=o.useRef(null),m=o.useRef("false"),[i,C]=(0,g.useState)([]),[Z,j]=(0,g.useState)([]),M=R();o.useEffect(()=>{var l,r,n,d;(l=e==null?void 0:e.errors)!=null&&l.title?(r=u.current)==null||r.focus():(n=e==null?void 0:e.errors)!=null&&n.body&&((d=f.current)==null||d.focus())},[e]);let q=l=>{C(l.target.files[0])},z=async l=>{l.preventDefault(),console.log(i.length);let r=new FormData;if(r.set("id",b.current.value),r.set("title",u.current.value),r.set("tags",p.current.value),r.set("body",f.current.value),r.set("noimage",m.current.checked),i.length!==0){let n=`${E()}-${i.name}`,{data:d,error:G}=await Y.storage.from("files").upload(n,i,{cacheControl:"3600",upsert:!1}),O=d.path;r.set("image",O)}console.log(m.current.checked),m.current.checked&&r.set("image",""),M(r,{method:"post"})};return(0,t.jsxs)(c,{name:"form1",method:"post",style:{display:"flex",flexDirection:"column",gap:8,width:"100%"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1 text-white",children:[(0,t.jsx)("input",{ref:b,hidden:!0,name:"id",defaultValue:a.note.id,className:"flex-1 rounded-md border-2 border-blue-500 px-3 text-lg leading-loose"}),(0,t.jsx)("span",{children:"Titulo: "}),(0,t.jsx)("input",{ref:u,id:"title",name:"title",defaultValue:a.note.title,className:" text-gray-50 bg-slate-700 border-slate-800 flex-1 rounded-md border-2 border-blue-500 px-3 text-lg leading-loose","aria-invalid":(x=e==null?void 0:e.errors)!=null&&x.title?!0:void 0,"aria-errormessage":(y=e==null?void 0:e.errors)!=null&&y.title?"title-error":void 0})]}),((h=e==null?void 0:e.errors)==null?void 0:h.title)&&(0,t.jsx)("div",{className:"pt-1 text-red-700",id:"title-error",children:e.errors.title})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1 text-white",children:[(0,t.jsx)("span",{children:"Nota: "}),(0,t.jsx)("textarea",{ref:f,name:"body",defaultValue:a.note.body,rows:8,className:"w-full flex-1 rounded-md border-0 text-gray-50 bg-slate-700 border-slate-800 px-2 py-2 !outline-none text-lg leading-6","aria-invalid":(N=e==null?void 0:e.errors)!=null&&N.body?!0:void 0,"aria-errormessage":(v=e==null?void 0:e.errors)!=null&&v.body?"body-error":void 0})]}),((w=e==null?void 0:e.errors)==null?void 0:w.body)&&(0,t.jsx)("div",{className:"pt-1 text-red-700",id:"body-error",children:e.errors.body})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1 text-white",children:[(0,t.jsx)("span",{children:"Tags: "}),(0,t.jsx)("input",{ref:p,name:"tags",defaultValue:a.note.tags,className:" text-gray-50 bg-slate-700 border-slate-800 flex-1 rounded-md border-2 border-blue-500 px-3 text-lg leading-loose"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex w-full flex-col gap-1 text-white",children:[(0,t.jsx)("span",{children:"Img: "}),(0,t.jsx)("input",{ref:k,name:"image",defaultValue:a.note.img,className:" text-gray-50 bg-slate-700 border-slate-800 flex-1 rounded-md border-2 border-blue-500 px-3 text-lg leading-loose"})]})}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("button",{type:"submit",className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 focus:bg-blue-400",children:"Save"})})]})}export{L as default};
